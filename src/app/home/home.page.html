<!-- <ion-header>
  <ion-toolbar>
    <ion-title>
      PocketLab
    </ion-title>
  </ion-toolbar>
</ion-header> -->

<ion-content>
  <ion-item>
    <ion-label>PocketLab</ion-label>
    <ionic-selectable item-content placeholder="Kategorija" [(ngModel)]="selected" [items]="data" itemValueField="id"
      itemTextField="name" [canSearch]="true" groupValueField="category" groupTextField="category"
      searchPlaceholder="Unesite naziv" [isMultiple]="false" (onSelect)="onItemSelected($event)">
      <ng-template ionicSelectableCloseButtonTemplate>
        <ion-icon name="close"></ion-icon>
      </ng-template>
      <ng-template ionicSelectablePlaceholderTemplate>
        <span style="color:#6bc3cd;">Kategorija</span>
      </ng-template>
      <ng-template ionicSelectableSearchFailTemplate>
        <ion-title style="text-align: center; margin-top: 4vh; font-size: 2vh;">
          Nije pronađena nijedna kategorija.
        </ion-title>
      </ng-template>
    </ionic-selectable>
  </ion-item>

  <div class="error-message" *ngIf="!data">
    <ion-title>Došlo je do greške.</ion-title>
  </div>

  <div class="error-message" *ngIf="data && !selected">
    <ion-title>Odaberite kategoriju.</ion-title>
  </div>

  <ion-grid *ngIf="data && selected">
    <div class="main-box">
      <ion-row class="main-box-title-row">
        <ion-col size="12">
          <ion-title class="main-box-title">{{ selected.name }}</ion-title>
        </ion-col>
      </ion-row>
      <ion-row *ngIf="selected.lowerLimit && selected.upperLimit">
        <ion-col class="main-box-parameters-text">
          {{selected.lowerLimit}} {{selected.measurementUnit}}
        </ion-col>
        <ion-col size="2" class="main-box-parameters-text">
          -
        </ion-col>
        <ion-col class="main-box-parameters-text">
          {{selected.upperLimit}} {{selected.measurementUnit}}
        </ion-col>
      </ion-row>
      <ion-row *ngIf="!selected.lowerLimit">
        <ion-col class="main-box-parameters-text">
          < {{selected.upperLimit}} {{selected.measurementUnit}} </ion-col>
      </ion-row>
      <ion-row *ngIf="!selected.upperLimit">
        <ion-col class="main-box-parameters-text">
          > {{selected.lowerLimit}} {{selected.measurementUnit}}
        </ion-col>
      </ion-row>
    </div>
    <ion-row>
      <ion-item class="input-box">
        <ion-label>Vrednost</ion-label>
        <ion-input [(ngModel)]="valueField" type="number" class="input-style" placeholder="Unesite vrednost">
        </ion-input>
      </ion-item>
    </ion-row>
    <ion-row *ngIf="valueField">
      <ion-text class="text-desc">{{ returnDesc() }}</ion-text>
    </ion-row>
    <ion-row *ngIf="valueField">
      <ion-text class="text-details">{{ returnDetails() }}</ion-text>
    </ion-row>
  </ion-grid>
</ion-content>